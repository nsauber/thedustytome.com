---
layout: post
title:  "Windows Batch Script to Write to a Daily Log File"
date:   2010-07-26 18:45:00
tags: batchscript windows
---

Here is a Windows batch script to append a passed line of text to the specified file (prepending the text with a date/time stamp).  The idea is to use it to capture your day's activities in a <a href="http://lifehacker.com/5582372/use-a-daily-log-to-keep-yourself-focused-on-productivity">daily log</a> format.  It's especially useful when combined with a tool like <a href="http://www.launchy.net/">Launchy</a>.  <br />
<br />
<blockquote>
<br />
@echo off<br />
setlocal<br />
<br />
set MYDOCSPATH=[replace]<br />
set LOGSUBPATH=[replace]<br />
set FILENAME=DailyLog<br />
set FILEEXT=txt<br />
<br />
:: Generate date/time stamp<br />
for /F "tokens=1 delims=/ " %%G in ('echo %DATE%') do set WEEKDAY=%%G<br />
for /F "tokens=2 delims=/ " %%G in ('echo %DATE%') do set MONTH=%%G<br />
for /F "tokens=3 delims=/ " %%G in ('echo %DATE%') do set DAY=%%G<br />
for /F "tokens=4 delims=/ " %%G in ('echo %DATE%') do set YEAR=%%G<br />
set YMD=%YEAR%%MONTH%%DAY%<br />
for /F "tokens=1 delims=:." %%G in ('echo %TIME%') do set HOUR=%%G<br />
for /F "tokens=2 delims=:." %%G in ('echo %TIME%') do set MIN=%%G<br />
for /F "tokens=3 delims=:." %%G in ('echo %TIME%') do set SEC=%%G<br />
if %HOUR% LSS 10 set HOUR=0%HOUR%<br />
set HMS=%HOUR%%MIN%%SEC%<br />
set DATETIMESTAMP=%YMD%-%HMS%<br />
<br />
set LOGFILE=%MYDOCSPATH%\%LOGSUBPATH%\%FILENAME%.%FILEEXT%<br />
set MESSAGE=%WEEKDAY% %YEAR%-%MONTH%-%DAY% %HOUR%:%MIN%:%SEC% \\ %*<br />
if "%*"=="" (<br />
echo No log message provided.  Displaying contents of log file.<br />
) else (<br />
echo Writing log message: %*<br />
<br />
echo %MESSAGE% &gt;&gt; "%LOGFILE%"<br />
)<br />
echo ----------------------------------------------------------------------<br />
type "%LOGFILE%"<br />
echo ----------------------------------------------------------------------<br />
pause<br />
<br />
endlocal</blockquote>
